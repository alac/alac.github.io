<html>
	<head>
		<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>
 	<title>  reminders |  aimless bitshift</title>
 		<link rel='stylesheet' type='text/css' href='/assets/wvs.css'>
 		<link rel='stylesheet' type='text/css' href='/assets/normalize.css' />
	</head>
	<body>
		<div class='container'>
			<div class='headerbar'>
				<a href="/" style="text-decoration:none">
					<span style="color:#366B8F">
						aimless 
						<span style="color:white">bit</span>shift 
					</span>
				</a>
				<span class='headerbarMenu'>
					notes/realizations re:code
				</span>
			</div>
			<div class='subcontainer'>
				<div class='headerbarSpacer'></div>
				<div class='header depthOneContent'>
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a>Recent:</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/text/2016/12/24/the_unicode_post.html">* The Unicode Post</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/python27/2016/12/07/python_cookbook.html">* python 2.7: reminders</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/python27/2016/11/12/python_optimization_parallelism.html">* python 2.7: profiling and parallism</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/statistics/2016/10/02/statistical_significance.html">* testing for statistical significance</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/tools/2016/08/24/xcode.html">* tools: xcode</a>
						</div>
					
					</div>
				</div>
				<div class='sidebar depthOneContent'>
<!-- 					display recent posts by categories                           -->
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a>Recent:</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/text/2016/12/24/the_unicode_post.html">* The Unicode Post</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/python27/2016/12/07/python_cookbook.html">* python 2.7: reminders</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/python27/2016/11/12/python_optimization_parallelism.html">* python 2.7: profiling and parallism</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/statistics/2016/10/02/statistical_significance.html">* testing for statistical significance</a>
						</div>
					
			  			<div class="menuCategoryPost">
					    	<a href="/tools/2016/08/24/xcode.html">* tools: xcode</a>
						</div>
					
					</div>
					<br>
<!-- 					display all posts by categories                           -->
	
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a name="Tools">Tools</a>
						</div>

						
						  	
						  								  		
						  	
						
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/tools/2016/08/24/xcode.html">* xcode</a>
									</div>
						  								  		
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/tools/2016/04/25/regular_expressions.html">* regexes</a>
									</div>
						  								  		
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/tools/2015/05/23/source-control-gitting-started.html">* git / source control</a>
									</div>
						  								  		
						  	
						
    				</div>
	
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a name="Objective-C">Objective-C</a>
						</div>

						
						  	
						  								  		
						  	
						
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/objective-c/2016/06/28/simple_arc.html">* simple automatic reference counting</a>
									</div>
						  								  		
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/objective-c/2016/04/04/objective_c_patterns.html">* interaction patterns</a>
									</div>
						  								  		
						  	
						
    				</div>
	
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a name="Unix">Unix</a>
						</div>

						
						  	
						  								  		
						  	
						
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/unix/2016/04/12/p1_unix_in_short.html">* part 1: getting around</a>
									</div>
						  								  		
						  	
						
    				</div>
	
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a name="Metaphors">Metaphors</a>
						</div>

						
						  	
						  								  		
						  	
						
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/metaphors/2016/06/14/simple_computers.html">* simple computers</a>
									</div>
						  								  		
						  	
						
    				</div>
	
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a name="Statistics">Statistics</a>
						</div>

						
						  	
						  								  		
						  	
						
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/statistics/2016/10/02/statistical_significance.html">* significance and the t-test</a>
									</div>
						  								  		
						  	
						
    				</div>
	
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a name="Python27">Python27</a>
						</div>

						
						  	
						  								  		
						  	
						
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/python27/2016/12/07/python_cookbook.html">* reminders</a>
									</div>
						  								  		
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/python27/2016/11/12/python_optimization_parallelism.html">* profiling and parallism</a>
									</div>
						  								  		
						  	
						
    				</div>
	
					<div class="menuCategory">
						<div class="menuCategoryTitle">
							<a name="Text">Text</a>
						</div>

						
						  	
						  								  		
						  	
						
						  	
						  		
						  			<div class="menuCategoryPost">
							    	<a href="/text/2016/12/24/the_unicode_post.html">* The Unicode Post</a>
									</div>
						  								  		
						  	
						
    				</div>
	
				</div>
				<div class='content'>
				  <div class='post depthOneContent'>
	<div class='postHeader'>
	<h1>
		python 2.7: reminders
	</h1>
	</div>
	<div class='postBody'>
	07 Dec 2016 | Python27
	<p>This post collects the things about Python that I regularly forget:</p>

<ul>
  <li>Inspecting object/scope.</li>
  <li>Static vs Class Methods.</li>
  <li><code class="highlighter-rouge">is</code> vs <code class="highlighter-rouge">==</code>.</li>
  <li>Empty Containers are Falsy.</li>
  <li>Distant Imports.</li>
  <li>Pip and Dependencies.</li>
  <li>Partial Functions.</li>
</ul>

<!--more-->

<h1 id="scope-inspection">Scope Inspection</h1>
<p><code class="highlighter-rouge">globals()</code> = namespace of the current module.<br />
<code class="highlighter-rouge">locals()</code> = current namespace.<br />
<code class="highlighter-rouge">vars()</code> = same as locals.<br />
<code class="highlighter-rouge">vars(obj)</code> = namespace of the object (e.g. <strong>dict</strong>()).</p>

<p>These have <em>interesting</em> behavior around mutability. <a href="http://stackoverflow.com/questions/7969949/whats-the-difference-between-globals-locals-and-vars">Detailed reference</a>.</p>

<h1 id="inspecting-objects">Inspecting Objects</h1>
<p><code class="highlighter-rouge">obj.__dict__()</code> = mapping from object’s properties to values. Mutations flow both ways.<br />
<code class="highlighter-rouge">dir(obj)</code> = list of properties and methods.</p>

<h1 id="static-vs-class-methods">Static vs Class Methods</h1>
<p><em>Do you need the class?</em><br />
Class methods take the class object implicitly as an argument.<br />
Static methods can be called via the class object <em>or</em> an instance, but take neither as an arg.<br />
<a href="http://stackoverflow.com/questions/136097/what-is-the-difference-between-staticmethod-and-classmethod-in-python">Reference</a>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Example(object):
    @classmethod
    def class_method(cls, real_arg):
        pass
    @staticmethod
    def static_method(real_arg):
        pass

e = Example()
e.class_method(1)
e.static_method(1)
Example.class_method(1)
Example.static_method(1)
</code></pre>
</div>

<h1 id="is-vs-">‘is’ vs ‘==’</h1>
<p><code class="highlighter-rouge">is</code> checks identity (e.g. pointer). <code class="highlighter-rouge">==</code> checks value.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; a = ["a"]
&gt;&gt;&gt; b = ["a"]
&gt;&gt;&gt; a == b
True
&gt;&gt;&gt; a is b
False

&gt;&gt;&gt; b = a
&gt;&gt;&gt; a is b
True

# String interning obfuscates this because in
# languages where a string is immutable, it's common
# to only generate one copy at compile time...
&gt;&gt;&gt; "a" is "a"
True
&gt;&gt;&gt; "ab" is "a" + "b"
True
&gt;&gt;&gt; a = "a"
&gt;&gt;&gt; b = "b"
&gt;&gt;&gt; "ab" is a + b
False
</code></pre>
</div>

<h1 id="empty-containers-are-falsey">Empty Containers are Falsey</h1>
<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; not not None
False
&gt;&gt;&gt; not not {}
False
&gt;&gt;&gt; not not []
False
&gt;&gt;&gt; not not set()
False
&gt;&gt;&gt; not not ()
False
</code></pre>
</div>
<p>Also, when <code class="highlighter-rouge">___nonzero__()</code> returns <code class="highlighter-rouge">False</code> or when <code class="highlighter-rouge">__len__()</code> returns <code class="highlighter-rouge">0</code>.</p>

<h1 id="dictionary-comprehension-syntax">Dictionary Comprehension Syntax</h1>
<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; a = [(1,2), (3,4)]
&gt;&gt;&gt; b = {k:v for k, v in a}
&gt;&gt;&gt; b
{1: 2, 3: 4}

# But, for the above case...
&gt;&gt;&gt; dict(a)
{1: 2, 3: 4}
</code></pre>
</div>

<h1 id="distant-imports">Distant Imports</h1>
<p>Suppose you have a project structure like</p>

<div class="highlighter-rouge"><pre class="highlight"><code>AllProjects
|-- projectA
|   |-- myScript.py
|   |...
|
|-- projectB
    |-- library.py
    |...
</code></pre>
</div>
<p>And you want to <code class="highlighter-rouge">import library</code> in <code class="highlighter-rouge">myScript.py</code>.</p>

<p>Symlinks are not a good idea because Python won’t update the symlink <code class="highlighter-rouge">.pyc</code> files correctly.</p>

<p>What will work, however is adding <code class="highlighter-rouge">projectB</code> to your <code class="highlighter-rouge">$PATH</code> (your real path <em>or</em> via programmatically).</p>

<div class="highlighter-rouge"><pre class="highlight"><code># Adding to the end of your path
sys.path.append(PATH_TO_IMPORT_FOLDER)
# Inserting at 2nd spot to preempt a naming conflict.
# Don't insert at 1st spot since _some_ expect that
# to be the script folder.
sys.path.insert(1, PATH_TO_IMPORT_FOLDER)
</code></pre>
</div>

<h1 id="pip--dependences">Pip &amp; Dependences</h1>
<p>A common idiom is to store the required modules in a requirements file via <code class="highlighter-rouge">pip freeze &gt; req.txt</code>.</p>

<p>Then to install them, <code class="highlighter-rouge">sudo pip install -r req.txt</code>.</p>

<h1 id="partials">Partials</h1>
<p>This is pretty academic, but you can partially apply functions with functools.partial.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>from functools import partial

def walk_dog(dog, duration):
  ...

short_walk = partial(walk_dog, duration = 20)
poop = map(short_walk, dogs)
</code></pre>
</div>

	</div>
</div>
				</div>
			</div>
		</div>
	</body>
<html>